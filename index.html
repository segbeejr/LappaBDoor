
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <title>LappaBdoor</title>
</head>
<body>
    <div class="login-container">
        <h1 align="center">LappaBdoor</h1>
        <h2 align="center">Login</h2>
        <form id="login-form">
            <div class="username">
                <label for="username">Username:</label>
                <input type="text" id="username" required>
            </div>
            <div class="username">
                <label for="contact">Contact Number:</label>
                <input type="text" id="contact" required>
            </div>
            <div class="username">
                <label for="delivery">Delivery Address:</label>
                <input type="text" id="delivery" required>
            </div>

            <button type="submit">Login</button>
        </form>
    </div>

    <div class="container-restaurants">
        <div class="profile">
            <div class="hi-div">
                <h2 class="hi">Hi!</h2>
            </div>
            <div class="name-and-others">
                <h4 id="name">Nathan</h4>
                <p id="address">America</p>
                <p id="phone-number">0888161891</p>
            </div>

        </div>
        <h2 align="center">LappaBdoors</h2>
        <input type="text" id="search-restaurants" placeholder="Search LappaBdoor...">
        <div class="restaurant-list"></div>
    </div>

    <div class="container-two">
        <div class="profile">
            <div class="hi-div">
                <h2 class="hi">Hi!</h2>
            </div>
            <div class="message">
                <h4 id="message">Enjoy Ordering Nice Dishes!</h4>
            </div>

        </div>
        <h2 id="restaurant-name"></h2>
        <h3 id="food-category"></h3>
        <div class="food-container"></div>
        <br>
        <button class="back-button back-button-restaurant">Back to Restaurants</button>
    </div>

    <div class="container-three">
        <div class="profile">
            <div class="hi-div">
                <h2 class="hi">Hi!</h2>
            </div>
            <div class="message">
                <h4 id="message">Enjoy Ordering Nice Dishes!</h4>
            </div>
        </div>
        <h2 id="food-name"></h2>
        <p id="food-description"></p>
        <p id="food-ingredients"></p>
        <img class="bigger-food-picture" src="" alt="">
        <div class="food-container"></div>
        <br>
        <button id="back-to-foods" class="back-button back-button-food">Back to Foods</button>
    </div>

    <div class="cart-container">
        <div class="profile">
            <div class="hi-div">
                <h2 class="hi">Hi!</h2>
            </div>
            <div class="message">
                <h4 id="message">Enjoy Ordering Nice Dishes!</h4>
            </div>
            
        </div>
        <button class="back-button">Back</button>
        <h2>Cart</h2>
        <div class="cart-items"></div>
        <div class="cart-total">
          <p>Total: $0.00</p>
        </div>
        <button class="checkout-button">Checkout</button>
        <button class="undo-button">Undo</button>
        <button class="plus-button">Plus</button>
    </div>

    <div class="container-order-confirmation" style="display: none;">
        <h2>Order Confirmation</h2>
        <p>Your order has been confirmed. Thank you for choosing LappaBdoor!</p>
    </div>    

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const loginForm = document.getElementById("login-form");
            const restaurantsContainer = document.querySelector(".container-restaurants");
            const restaurantList = document.querySelector(".restaurant-list");
            const foodContainer = document.querySelector(".food-container");
            const backToRestaurantsButton = document.querySelector(".back-button");
            const containerTwo = document.querySelector(".container-two");
            const containerThree = document.querySelector(".container-three");
            const undoButton = document.querySelector(".undo-button");
            const plusButton = document.querySelector(".plus-button");
            const restaurantNameElement = document.getElementById("restaurant-name");
            const foodCategoryElement = document.getElementById("food-category");
            const cartItemsContainer = document.querySelector(".cart-items");
            const cartTotalParagraph = document.querySelector(".cart-total p");
            const searchRestaurantsInput = document.getElementById("search-restaurants");
            const cartContainer = document.querySelector(".cart-container");



            let cartItems = [];
            let totalPrice = 0;
            let currentRestaurantIndex = 0;
            let lastRemovedItem = null;

            const restaurants = [
              {
                name: "Quita LappaBdoor",
                address: "Congo Town, Payneville",
                phone: "0888111222",
                food: [
                  {
                    name: "Bitterleaf and fufu",
                    price: "$250",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "./images/Bitterleaf and fufu.png",
                    ingredients: "Bitterleaf, fufu, meat, red oil, vita, water, pepper, etc...",
                    preparations: [
                      { type: "Regular Bitterleaf and fufu", price: "$250" },
                    ],
                  },
                  {
                    name: "Potatoe greens Soup",
                    price: "$250",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Fried Potato green.png",
                    ingredients: "Potatoe Greens, oil, vita, water, meat and fish, pepper, etc...",
                    preparations: [
                      { type: "Red Oil Potatoe Greens", price: "$250" },
                      { type: "Fried Potatoe Greens", price: "$300" },
                    ],
                  },
                ],
              },
              {
                name: "Ma-B Food",
                address: "Kokoyah Road, Gbarnga",
                phone: "0777111222",
                food: [
                  {
                    name: "Peanut Butter Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Peanut Butter Soup.png",
                    ingredients: "Peanut Butter, oil, pepper, vita, fish, pork, water, etc...",
                    preparations: [
                      { type: "Thick Peanut Butter Soup", price: "$350" },
                      { type: "Watery Peanut Butter Soup", price: "$300" },
                    ],
                  },
                  {
                    name: "Cassava Leaves Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Red Oil Cassava Leaves.png",
                    ingredients: "Cassava Leaves, oil, pepper, vita, fish, dried meat, water, etc...",
                    preparations: [
                      { type: "Red Oil Cassava Leaves Soup", price: "$350" },
                      { type: "Fried Cassava Leaves Soup", price: "$300" },
                    ],
                  },
                ],
              },
              {
                name: "Konah's Rice",
                address: "V0A market",
                phone: "0777111222",
                food: [
                  {
                    name: "Palm Butter Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Peanut Butter Soup.png",
                    ingredients: "Palm Butter, pepper, vita, fish, pork, water, etc...",
                    preparations: [
                      { type: "Regular Palm Butter Soup", price: "$350" },
                      { type: "Watery Palm Butter Soup", price: "$350" },
                    ],
                  },
                  {
                    name: "Check Rice",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Check Rice & Gravy- loaded.png",
                    ingredients: "Oil, pepper, vita, fish, dried meat, water, etc...",
                    preparations: [
                      { type: "Check Rice and Gravy", price: "$350" },
                      { type: "Check Rice and Stew", price: "$350" },
                    ],
                  },
                ],
              },
              {
                name: "Save the Children",
                address: "RIA Highway",
                phone: "0888999123",
                food: [
                  {
                    name: "Palava Sauce",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Palava Sauce Rice.png",
                    ingredients: "Palava Sauce leave, pepper, vita, fish, water, etc...",
                    preparations: [
                      { type: "Fried Palava Sauce", price: "$350" },
                      { type: "Red Oil Palava Sauce", price: "$350" },
                    ],
                  },
                  {
                    name: "Eggplant Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Fried Eggplant with rice.png",
                    ingredients: "Oil, pepper, vita, fish, dried meat, water, etc...",
                    preparations: [
                      { type: "Fried Eggplant Soup", price: "$350" },
                      { type: "Red Oil Eggplant", price: "$350" },
                    ],
                  },
                ],
              },
          
              {
                name: "Quita LappaBdoor",
                address: "Congo Town, Payneville",
                phone: "0888111222",
                food: [
                  {
                    name: "Bitterleaf and fufu",
                    price: "$250",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "./images/Bitterleaf and fufu.png",
                    ingredients: "Bitterleaf, fufu, meat, red oil, vita, water, pepper, etc...",
                    preparations: [
                      { type: "Regular Bitterleaf and fufu", price: "$250" },
                    ],
                  },
                  {
                    name: "Potatoe greens Soup",
                    price: "$250",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Fried Potato green.png",
                    ingredients: "Potatoe Greens, oil, vita, water, meat and fish, pepper, etc...",
                    preparations: [
                      { type: "Red Oil Potatoe Greens", price: "$250" },
                      { type: "Fried Potatoe Greens", price: "$300" },
                    ],
                  },
                ],
              },
              {
                name: "Ma-B Food",
                address: "Kokoyah Road, Gbarnga",
                phone: "0777111222",
                food: [
                  {
                    name: "Peanut Butter Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Peanut Butter Soup.png",
                    ingredients: "Peanut Butter, oil, pepper, vita, fish, pork, water, etc...",
                    preparations: [
                      { type: "Thick Peanut Butter Soup", price: "$350" },
                      { type: "Watery Peanut Butter Soup", price: "$300" },
                    ],
                  },
                  {
                    name: "Cassava Leaves Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Red Oil Cassava Leaves.png",
                    ingredients: "Cassava Leaves, oil, pepper, vita, fish, dried meat, water, etc...",
                    preparations: [
                      { type: "Red Oil Cassava Leaves Soup", price: "$350" },
                      { type: "Fried Cassava Leaves Soup", price: "$300" },
                    ],
                  },
                ],
              },
              {
                name: "Konah's Rice",
                address: "V0A market",
                phone: "0777111222",
                food: [
                  {
                    name: "Palm Butter Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Peanut Butter Soup.png",
                    ingredients: "Palm Butter, pepper, vita, fish, pork, water, etc...",
                    preparations: [
                      { type: "Regular Palm Butter Soup", price: "$350" },
                      { type: "Watery Palm Butter Soup", price: "$350" },
                    ],
                  },
                  {
                    name: "Check Rice",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Check Rice & Gravy- loaded.png",
                    ingredients: "Oil, pepper, vita, fish, dried meat, water, etc...",
                    preparations: [
                      { type: "Check Rice and Gravy", price: "$350" },
                      { type: "Check Rice and Stew", price: "$350" },
                    ],
                  },
                ],
              },
              {
                name: "Save the Children",
                address: "RIA Highway",
                phone: "0888999123",
                food: [
                  {
                    name: "Palava Sauce",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Palava Sauce Rice.png",
                    ingredients: "Palava Sauce leave, pepper, vita, fish, water, etc...",
                    preparations: [
                      { type: "Fried Palava Sauce", price: "$350" },
                      { type: "Red Oil Palava Sauce", price: "$350" },
                    ],
                  },
                  {
                    name: "Eggplant Soup",
                    price: "$350",
                    description: "This food is yummy, you don't want to miss it. Try it out now!",
                    image: "images/Fried Eggplant with rice.png",
                    ingredients: "Oil, pepper, vita, fish, dried meat, water, etc...",
                    preparations: [
                      { type: "Fried Eggplant Soup", price: "$350" },
                      { type: "Red Oil Eggplant", price: "$350" },
                    ],
                  },
                ],
              },
            ];
          
            function displayRestaurants(restaurants) {
              restaurantList.innerHTML = ""; // Clear previous content
            
              restaurants.forEach((restaurant, index) => {
                const restaurantElement = createRestaurantElement(restaurant, index);
                restaurantList.appendChild(restaurantElement);
              });
            }
        
            function createRestaurantElement(restaurant, index) {
              const restaurantElement = document.createElement("div");
              restaurantElement.className = "restaurant";
              restaurantElement.innerHTML = `
                <h3>${restaurant.name}</h3>
                <p>Address: ${restaurant.address}</p>
                <p>Phone: ${restaurant.phone}</p>
              `;
              // Add click event listener to each restaurant element
              restaurantElement.addEventListener("click", () => {
                currentRestaurantIndex = index;
                displayRestaurantDetails(restaurants[index]);
              });
              return restaurantElement;
            }
        
            const nameElement = document.getElementById("name");
            const phoneElement = document.getElementById("phone-number");
            const addressElement = document.getElementById("address");

            function handleLoginSubmit(event) {
              event.preventDefault();
            
              // Get the user's input values from the form
              const username = document.getElementById("username").value;
              const phoneNumber = document.getElementById("contact").value;
              const address = document.getElementById("delivery").value;
            
              // Update the elements in the name-and-others div with the user's information
              nameElement.textContent = username;
              phoneElement.textContent = phoneNumber;
              addressElement.textContent = address;
            
              // Hiding login container and showing the restaurants container
              const loginContainer = document.querySelector(".login-container");
              loginContainer.style.display = "none";
              restaurantsContainer.style.display = "block";
            
              // Display the restaurants after the login form is submitted
              displayRestaurants(restaurants);
            }
        
            loginForm.addEventListener("submit", handleLoginSubmit);
        
            function handleAddToCartClick(foodItem, preparation) {
                const cartItemElement = document.createElement("div");
                cartItemElement.className = "cart-item";
                cartItemElement.innerHTML = `
                    <p>${foodItem.name} - ${preparation.type}</p>
                    <p>Price: ${preparation.price}</p>
                    <button class="undo-button-item">Undo</button>
                `;

                const undoButton = cartItemElement.querySelector(".undo-button-item");
                undoButton.addEventListener("click", () => {
                    handleUndoCartItem(cartItemElement, { foodItem, preparation });
                });
            
                cartItemsContainer.appendChild(cartItemElement);
                cartItems.push({ foodItem, preparation });
                totalPrice += parseFloat(preparation.price.slice(1));
            
                // Update the cart display
                displayCart();
            
                // Show the cart container
                cartContainer.style.display = "block";
            }
        
        
            function handleUndoCartItem(cartItemElement, cartItem) {
                cartItemsContainer.removeChild(cartItemElement);

                // Find the index of the cart item and remove it from the cartItems array
                const index = cartItems.findIndex(item => item === cartItem);
                if (index !== -1) {
                    cartItems.splice(index, 1);
                    totalPrice -= parseFloat(cartItem.preparation.price.slice(1));
                }
            
                // Update the cart display
                displayCart();
            
                // Hide the cart container if cart is empty
                if (cartItems.length === 0) {
                    cartContainer.style.display = "none";
                }
            }
        
            function displayCart() {
              cartItemsContainer.innerHTML = "";
              cartItems.forEach(({ foodItem, preparation }) => {
                const cartItemElement = document.createElement("div");
                cartItemElement.className = "cart-item";
                cartItemElement.innerHTML = `
                  <p>${foodItem.name} - ${preparation.type}</p>
                  <p>Price: ${preparation.price}</p>
                `;
                cartItemsContainer.appendChild(cartItemElement);
              });
              cartTotalParagraph.textContent = `Total: $${totalPrice.toFixed(2)}`;
            }
        
            function handleUndo() {
                if (lastRemovedItem) {
                    cartItems.push(lastRemovedItem);
                    totalPrice += parseFloat(lastRemovedItem.preparation.price.slice(1));
                    lastRemovedItem = null;
                    displayCart();
                }
            
                // Hide the cart container if cart is empty
                if (cartItems.length === 0) {
                    cartContainer.style.display = "none";
                }
            }
        
            function searchRestaurants() {
              const query = searchRestaurantsInput.value.toLowerCase();
              const filteredRestaurants = restaurants.filter(
                (restaurant) => restaurant.name.toLowerCase().includes(query)
              );
              restaurantList.innerHTML = ""; // Clear previous content
              filteredRestaurants.forEach((restaurant, index) => {
                const restaurantElement = createRestaurantElement(restaurant, index);
                restaurantList.appendChild(restaurantElement);
              });
            }
        
            function displayRestaurantDetails(restaurant) {
              restaurantNameElement.textContent = restaurant.name;
              foodCategoryElement.textContent = "Food Menu";
              foodContainer.innerHTML = ""; // Clear previous content
              restaurant.food.forEach((foodItem) => {
                const foodItemElement = document.createElement("div");
                foodItemElement.className = "food-item";
                foodItemElement.innerHTML = `
                  <img src="${foodItem.image}" alt="${foodItem.name}">
                  <h3>${foodItem.name}</h3>
                  <p>Price: ${foodItem.price}</p>
                  <p>${foodItem.description}</p>
                `;
                foodItemElement.addEventListener("click", () => {
                  handleFoodItemClick(foodItem, foodItem.preparations[0]);
                });
                foodContainer.appendChild(foodItemElement);
              });
              restaurantsContainer.style.display = "none";
              containerTwo.style.display = "block";
              containerThree.style.display = "none";
              containerFour.style.display = "none";
            }
        
            function handleFoodItemClick(foodItem, preparation) {
              displayFoodDetails(foodItem, preparation);
            }
        
            function displayFoodDetails(foodItem, preparation) {
              const foodDetailName = document.getElementById("food-name");
              const foodDetailDescription = document.getElementById("food-description");
              const foodDetailIngredients = document.getElementById("food-ingredients");
              const biggerFoodPicture = document.querySelector(".bigger-food-picture");
              foodDetailName.textContent = foodItem.name;
              foodDetailDescription.textContent = foodItem.description;
              foodDetailIngredients.textContent = "Ingredients: " + foodItem.ingredients;
              biggerFoodPicture.src = foodItem.image;
              foodContainer.innerHTML = "";
              foodItem.preparations.forEach((prep) => {
                const foodPreparationElement = document.createElement("div");
                foodPreparationElement.className = "food-preparation";
                foodPreparationElement.innerHTML = `
                  <p>${prep.type}</p>
                  <p>Price: ${prep.price}</p>
                `;
                const addToCartButton = document.createElement("button");
                addToCartButton.textContent = "Add to Cart";
                addToCartButton.addEventListener("click", () => {
                  handleAddToCartClick(foodItem, prep);
                });
                foodPreparationElement.appendChild(addToCartButton);
                foodContainer.appendChild(foodPreparationElement);
              });
              restaurantsContainer.style.display = "none";
              containerTwo.style.display = "none";
              containerThree.style.display = "block";
              containerFour.style.display = "none";
            }
        
            // Add event listener for the "Back to Restaurants" button
            const backButtonRestaurant = document.querySelector(".back-button-restaurant");
        
            backButtonRestaurant.addEventListener("click", () => {
              // Add the logic to handle the back button functionality
              containerTwo.style.display = "none";
              restaurantsContainer.style.display = "block";
              containerThree.style.display = "none";
              containerFour.style.display = "none";
            });
        
            // Add event listener for the "Back to Foods" button
            const backToFoodsButton = document.getElementById("back-to-foods");
        
            backToFoodsButton.addEventListener("click", () => {
              // Add the logic to handle the back button functionality
              containerTwo.style.display = "block";
              restaurantsContainer.style.display = "none";
              containerThree.style.display = "none";
              containerFour.style.display = "none";
            });
        
            // Add event listener for the "Back" button
            const backButton = document.querySelector(".back-button");
        
            backButton.addEventListener("click", () => {
              // Add the logic to handle the back button functionality
              containerTwo.style.display = "block";
              restaurantsContainer.style.display = "none";
              containerThree.style.display = "none";
              containerFour.style.display = "none";
            });
        
            backToRestaurantsButton.addEventListener("click", handleBackButtonClick);
            backToFoodsButton.addEventListener("click", handleBackToFoodItemClick);
        
        
            function handlePlusButtonClick() {
              cartItems.length = 0;
              totalPrice = 0;
              displayCart();
            }
        
            plusButton.addEventListener("click", handlePlusButtonClick);
        
        
        
            const checkoutButton = document.querySelector(".checkout-button");
            const orderConfirmationContainer = document.querySelector(".container-order-confirmation");
        
            checkoutButton.addEventListener("click", handleCheckoutClick);
        
            function handleCheckoutClick() {
              containerThree.style.display = "none";
              containerFour.style.display = "block";
              cartContainer.style.display = "none";
              orderConfirmationContainer.style.display = "block";
            }
        
            function displayLoginScreen() {
              const loginContainer = document.querySelector(".login-container");
              loginContainer.style.display = "block";
              restaurantsContainer.style.display = "none";
              containerTwo.style.display = "none";
              containerThree.style.display = "none";
              containerFour.style.display = "none";
              const orderConfirmationContainer = document.querySelector(".container-order-confirmation");
              orderConfirmationContainer.style.display = "none";
            }
        
            undoButton.addEventListener("click", handleUndo);
            searchRestaurantsInput.addEventListener("input", searchRestaurants);
        
            displayLoginScreen();
        });
    </script>
</body>
</html>
